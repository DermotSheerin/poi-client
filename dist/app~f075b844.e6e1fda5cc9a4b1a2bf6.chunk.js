(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{0:function(e,t,n){n("GAND"),n("GmYv"),e.exports=n("b9nV")},"54d1":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(e){this.islandTotal=e}},"75CZ":function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var r=n("aurelia-framework"),i=n("4ysu"),s=n("70NS"),o=n("1aCK"),a=n("aurelia-event-aggregator"),l=n("54d1"),c=function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},u=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},d=function(e,t,n,r){return new(n||(n=Promise))((function(i,s){function o(e){try{l(r.next(e))}catch(e){s(e)}}function a(e){try{l(r.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}l((r=r.apply(e,t||[])).next())}))},f=function(e,t){var n,r,i,s,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!(i=o.trys,(i=i.length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(e){s=[6,e],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}},p=function(){function e(e,t,n,r){var i=this;this.httpClient=e,this.ea=t,this.au=n,this.router=r,this.islands=[],this.regionCategories=[],this.filterIslands=[],this.islandTotal=0,this.users=[],e.configure((function(e){e.withBaseUrl("http://localhost:3000"),console.log("here in Island-Service Constructor users - "+i.users)})),this.getRegionCategories()}return e.prototype.getRegionCategories=function(){return d(this,void 0,void 0,(function(){var e;return f(this,(function(t){switch(t.label){case 0:return[4,this.httpClient.get("/api/regions/listRegions")];case 1:return e=t.sent(),this.regionCategories=e.content,[2]}}))}))},e.prototype.localFilter=function(e){return d(this,void 0,void 0,(function(){var t,n=this;return f(this,(function(r){if(this.filterIslands.splice(0,this.filterIslands.length),"All Regions"!=e.region)for(t=0;t<this.islands.length;t++)console.log(this.islands[t].region.region),this.islands[t].region.region===e.region&&this.filterIslands.push(this.islands[t]);else this.islands.forEach((function(e){n.filterIslands.push(e)}));return[2]}))}))},e.prototype.addIsland=function(e,t,n,r,i){return d(this,void 0,void 0,(function(){var s,o,a;return f(this,(function(c){switch(c.label){case 0:return c.trys.push([0,3,,4]),s={region:e,name:t,description:n,latitude:r,longitude:i},[4,this.httpClient.post("/api/islands/addIsland",s)];case 1:return o=c.sent(),[4,this.httpClient.get("/api/islands/showIslandDetails/"+o.content._id)];case 2:return a=c.sent(),o.isSuccess?(this.islands.push(a.content.islandDetails),this.islandTotal=this.islandTotal+1,this.ea.publish(new l.a(this.islandTotal)),[2,"Island added successfully"]):[2,"Error adding an Island"];case 3:return c.sent(),[2,"Error adding an Island"];case 4:return[2]}}))}))},e.prototype.editIsland=function(e,t,n,r,i,s){return d(this,void 0,void 0,(function(){var o,a;return f(this,(function(l){switch(l.label){case 0:return l.trys.push([0,2,,3]),o={islandId:e,region:t,name:n,description:r,latitude:i,longitude:s},[4,this.httpClient.put("/api/islands/editIslandDetails",o)];case 1:return a=l.sent(),this.userDetails=a.content.user,this.retrieveUserPOIDetails(this.userDetails._id),[2,a.content];case 2:return l.sent(),[2,"Error Updating Island"];case 3:return[2]}}))}))},e.prototype.deleteIsland=function(e){return d(this,void 0,void 0,(function(){return f(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,this.httpClient.delete("/api/islands/deleteIsland/"+e)];case 1:return[2,t.sent().content];case 2:return t.sent(),[2,"Error Deleting Island"];case 3:return[2]}}))}))},e.prototype.signup=function(e,t,n,r){return d(this,void 0,void 0,(function(){var i;return f(this,(function(s){switch(s.label){case 0:return s.trys.push([0,3,,4]),i={firstName:e,lastName:t,email:n,password:r},[4,this.httpClient.post("/api/users",i)];case 1:return[4,s.sent().content];case 2:return s.sent()?(this.changeRouter("start"),[3,4]):[2,!1];case 3:return[2,s.sent()];case 4:return[2]}}))}))},e.prototype.login=function(e,t){return d(this,void 0,void 0,(function(){var n,r,i;return f(this,(function(s){switch(s.label){case 0:n=!1,s.label=1;case 1:return s.trys.push([1,7,,8]),[4,this.httpClient.post("/api/users/authenticate",{email:e,password:t})];case 2:return[4,(r=s.sent()).content];case 3:return(i=s.sent()).success?(this.httpClient.configure((function(e){e.withHeader("Authorization","bearer "+i.token)})),localStorage.islandStorage=JSON.stringify(r.content),this.userDetails=r.content.user,"admin"==this.userDetails.userRole?[3,4]:(this.retrieveUserPOIDetails(this.userDetails._id),this.clearFilterIslands(),this.changeRouter("app"),n=i.success,[3,6])):[3,6];case 4:return[4,this.getUsers()];case 5:s.sent(),this.changeRouter("appAdmin"),n=i.success,s.label=6;case 6:return[3,8];case 7:return s.sent(),n=!1,[3,8];case 8:return[2,n]}}))}))},e.prototype.getUsers=function(){return d(this,void 0,void 0,(function(){var e;return f(this,(function(t){switch(t.label){case 0:return[4,this.httpClient.get("/api/users")];case 1:return e=t.sent(),this.users=e.content,[2]}}))}))},e.prototype.findUser=function(e){return d(this,void 0,void 0,(function(){return f(this,(function(t){switch(t.label){case 0:return[4,this.httpClient.get("/api/users/"+e)];case 1:return[2,t.sent()]}}))}))},e.prototype.deleteUser=function(e){return d(this,void 0,void 0,(function(){var t;return f(this,(function(n){switch(n.label){case 0:return n.trys.push([0,3,,4]),[4,this.httpClient.delete("/api/users/"+e)];case 1:return t=n.sent(),[4,this.getUsers()];case 2:return n.sent(),t.isSuccess?[2,{response:t,users:this.users}]:[3,4];case 3:return[2,n.sent().message];case 4:return[2]}}))}))},e.prototype.clearFilterIslands=function(){this.filterIslands.splice(0,this.filterIslands.length)},e.prototype.updateFilterIslandAfterEdit=function(e,t){this.filterIslands.splice(e,1,t)},e.prototype.removeIslandFilterIslands=function(e){this.filterIslands.splice(e,1)},e.prototype.removeIndexIsland=function(e){this.islands.splice(e,1)},e.prototype.retrieveUserPOIDetails=function(e){return d(this,void 0,void 0,(function(){var t,n;return f(this,(function(r){switch(r.label){case 0:return console.log(e),[4,this.httpClient.get("/api/islands/getUserIslands/"+e)];case 1:return t=r.sent(),n=this,[4,t.content];case 2:return n.islands=r.sent(),[2]}}))}))},e.prototype.retrieveIslandToUpdate=function(e){return d(this,void 0,void 0,(function(){return f(this,(function(t){switch(t.label){case 0:return[4,this.httpClient.get("/api/islands/showIslandDetails/"+e)];case 1:return[2,t.sent().content]}}))}))},e.prototype.logout=function(){localStorage.islandStorage=null,this.httpClient.configure((function(e){e.withHeader("Authorization","")})),this.changeRouter("start")},e.prototype.checkIsAuthenticated=function(){"null"!==localStorage.islandStorage&&(!0,this.httpClient.configure((function(e){var t=JSON.parse(localStorage.islandStorage);e.withHeader("Authorization","bearer "+t.token)})),this.changeRouter("app"))},e.prototype.changeRouter=function(e){this.router.navigate("/",{replace:!0,trigger:!1}),this.router.reset(),this.au.setRoot(s.d.moduleName(e))},e=c([Object(r.d)(o.a,a.a,r.Aurelia,i.c),u("design:paramtypes",[o.a,a.a,r.Aurelia,i.c])],e)}()},BEPO:function(e){e.exports=JSON.parse('{"a":false,"b":false}')},app:function(e,t,n){"use strict";n.r(t),n.d(t,"App",(function(){return a}));n("70NS");var r=n("aurelia-framework"),i=n("xzZF"),s=function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},o=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},a=function(){function e(e){this.imageStore=e}return e.prototype.configureRouter=function(e,t){e.options.pushState=!0,e.map([{route:["","islands"],name:"Island",moduleId:"views/islands",nav:!0,title:"Add Islands"},{route:"updateisland/:id",name:"updateisland",moduleId:"views/updateisland",nav:!1,title:"Update Islands"},{route:"logout",name:"logout",moduleId:"views/logout",nav:!0,title:"Logout"}]),this.router=t},e=s([r.b,o("design:paramtypes",[i.a])],e)}()},"app.html":function(e,t,n){e.exports='<template>\n  <require from="resources/elements/nav-bar.html"></require>\n\n  <div class="ui container">\n    <section class="ui raised segment">\n      <h3 class="ui header">POI - Islands of Ireland</h3>\n      <nav-bar router.bind="router"></nav-bar>\n      <div class="ui basic segment">\n        <router-view></router-view>\n      </div>\n    </section>\n  </div>\n</template>\n'},appAdmin:function(e,t,n){"use strict";n.r(t),n.d(t,"AppAdmin",(function(){return a}));n("70NS");var r=n("aurelia-framework"),i=n("xzZF"),s=function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},o=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},a=function(){function e(e){this.imageStore=e}return e.prototype.configureRouter=function(e,t){e.options.pushState=!0,e.map([{route:["","users"],name:"Users",moduleId:"views/users",nav:!0,title:"POI Users"},{route:"user-islands/:id",name:"user-islands",moduleId:"resources/elements/user-islands",nav:!1,title:"User Islands"},{route:"logout",name:"logout",moduleId:"views/logout",nav:!0,title:"Logout"}]),this.router=t},e=s([r.b,o("design:paramtypes",[i.a])],e)}()},"appAdmin.html":function(e,t,n){e.exports='<template>\r\n  <require from="resources/elements/nav-bar.html"></require>\r\n\r\n  <div class="ui container">\r\n    <section class="ui raised segment">\r\n      <h3 class="ui header">POI - Islands of Ireland</h3>\r\n      <nav-bar router.bind="router"></nav-bar>\r\n      <div class="ui basic segment">\r\n        <router-view></router-view>\r\n      </div>\r\n    </section>\r\n  </div>\r\n</template>\r\n'},main:function(e,t,n){"use strict";n.d(t,"configure",(function(){return i}));var r=n("BEPO");n("70NS"),n("i+hI");function i(e){return e.use.standardConfiguration().feature("resources/index"),e.use.developmentLogging(r.a?"debug":"warn"),r.b&&e.use.plugin("aurelia-testing"),e.start().then((function(){return e.setRoot("start")}))}},"resources/elements/card":function(e,t,n){"use strict";n.r(t),n.d(t,"Card",(function(){return u}));var r=n("aurelia-framework"),i=n("xzZF"),s=n("75CZ"),o=function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},a=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},l=function(e,t,n,r){return new(n||(n=Promise))((function(i,s){function o(e){try{l(r.next(e))}catch(e){s(e)}}function a(e){try{l(r.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}l((r=r.apply(e,t||[])).next())}))},c=function(e,t){var n,r,i,s,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!(i=o.trys,(i=i.length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(e){s=[6,e],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}},u=function(){function e(e,t){this.imageStore=e,this.ds=t,this.prompt=""}return e.prototype.deleteImage=function(e){return l(this,void 0,void 0,(function(){var t;return c(this,(function(n){switch(n.label){case 0:return this.currentIslandDetails._id,[4,this.imageStore.deleteImage(e,this.currentIslandDetails._id)];case 1:return(t=n.sent()).isSuccess?this.currentIslandDetails=t.content:this.prompt="Delete Island Failed",[2]}}))}))},o([r.c,a("design:type",Object)],e.prototype,"currentIslandDetails",void 0),e=o([r.b,a("design:paramtypes",[i.a,s.a])],e)}()},"resources/elements/card.html":function(e,t){e.exports='<template>\r\n  <div class="ui link cards" >\r\n    <div class="card" repeat.for="image of currentIslandDetails.imageURL">\r\n      <div class="image">\r\n        <img src="${image[0]}">\r\n      </div>\r\n      <div class="header">\r\n        <button click.delegate="deleteImage(image[1])" class="ui icon button" > <i class="icon red alternate trash"></i></button>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  ${prompt}\r\n</template>\r\n'},"resources/elements/category-form":function(e,t,n){"use strict";n.r(t),n.d(t,"CategoryForm",(function(){return c}));var r=n("aurelia-framework"),i=n("75CZ"),s=function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},o=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},a=function(e,t,n,r){return new(n||(n=Promise))((function(i,s){function o(e){try{l(r.next(e))}catch(e){s(e)}}function a(e){try{l(r.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}l((r=r.apply(e,t||[])).next())}))},l=function(e,t){var n,r,i,s,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!(i=o.trys,(i=i.length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(e){s=[6,e],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}},c=function(){function e(e){this.ds=e,this.selectedRegionCategory=null,console.log("here in Category-Form Constructor")}return e.prototype.categoryFilter=function(){return a(this,void 0,void 0,(function(){return l(this,(function(e){switch(e.label){case 0:return[4,this.ds.localFilter(this.selectedRegionCategory)];case 1:return e.sent(),[2]}}))}))},s([r.c,o("design:type",Array)],e.prototype,"regionCategories",void 0),s([r.c,o("design:type",Array)],e.prototype,"filterIslands",void 0),e=s([Object(r.d)(i.a),o("design:paramtypes",[i.a])],e)}()},"resources/elements/category-form.html":function(e,t){e.exports='<template>\n  <form submit.trigger="categoryFilter()" class="ui primary segment form">\n    <h4 class="ui dividing header"> Search Category </h4>\n    <div class="grouped fields">\n      <div class="field" repeat.for="region of regionCategories">\n        <div class="ui radio checkbox">\n          <input type="radio" model.bind="region" checked.bind="selectedRegionCategory">\n          <label>${region.region}</label>\n        </div>\n      </div>\n    </div>\n    <button class="ui blue submit button">Search</button>\n  </form>\n</template>\n'},"resources/elements/category-list":function(e,t,n){"use strict";n.r(t),n.d(t,"CategoryList",(function(){return c}));var r=n("aurelia-framework"),i=n("75CZ"),s=function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},o=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},a=function(e,t,n,r){return new(n||(n=Promise))((function(i,s){function o(e){try{l(r.next(e))}catch(e){s(e)}}function a(e){try{l(r.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}l((r=r.apply(e,t||[])).next())}))},l=function(e,t){var n,r,i,s,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!(i=o.trys,(i=i.length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(e){s=[6,e],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}},c=function(){function e(e){this.ds=e,this.filterIslands=null,this.response="",console.log("here in Category-List Constructor")}return e.prototype.deleteIsland=function(e){return a(this,void 0,void 0,(function(){var t,n;return l(this,(function(r){switch(r.label){case 0:return t=this.findFilterIslandIndex(e),n=this.findIslandsIndex(e),[4,this.ds.deleteIsland(e._id)];case 1:return r.sent().success&&(this.ds.removeIndexIsland(n),this.ds.removeIslandFilterIslands(t)),[2]}}))}))},e.prototype.findFilterIslandIndex=function(e){return this.ds.filterIslands.findIndex((function(t){return t._id===e._id}))},e.prototype.findIslandsIndex=function(e){return this.ds.islands.findIndex((function(t){return t._id===e._id}))},s([r.c,o("design:type",Array)],e.prototype,"filterIslands",void 0),e=s([Object(r.d)(i.a),o("design:paramtypes",[i.a])],e)}()},"resources/elements/category-list.html":function(e,t){e.exports='<template>\r\n    <table class="ui striped celled table segment">\r\n      <thead>\r\n      <tr>\r\n        <th> Region/Category </th>\r\n        <th> Island Name </th>\r\n        <th> Latitude </th>\r\n        <th> Longitude </th>\r\n        <th> Edit Details </th>\r\n        <th> Delete Island </th>\r\n      </tr>\r\n      </thead>\r\n      <tbody>\r\n      <tr repeat.for="island of filterIslands">\r\n        <td> ${island.region.region} </td>\r\n        <td>  ${island.name}</td>\r\n        <td>  ${island.latitude} </td>\r\n        <td>  ${island.longitude} </td>\r\n        \x3c!--  route-href custom attribute that can be used with an anchor to switch to the updateisland view when clicked -- original note here, change made, see below change to href\r\n              https://elanderson.net/2015/10/aurelia-routing-with-a-parameter/--\x3e\r\n        <td>\r\n          <a href="updateisland/${island._id}"\r\n             class="ui icon button"> <i class="edit icon"></i> </a>\r\n        </td>\r\n        <td>\r\n          <button click.delegate= "deleteIsland(island)" class="ui icon button" > <i class="icon trash"></i></button></td>\r\n        </td>\r\n      </tr>\r\n      </tbody>\r\n      <h2><b>${response}</b></h2>\r\n    </table>\r\n</template>\r\n'},"resources/elements/island-form":function(e,t,n){"use strict";n.r(t),n.d(t,"IslandForm",(function(){return c}));var r=n("aurelia-framework"),i=n("75CZ"),s=function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},o=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},a=function(e,t,n,r){return new(n||(n=Promise))((function(i,s){function o(e){try{l(r.next(e))}catch(e){s(e)}}function a(e){try{l(r.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}l((r=r.apply(e,t||[])).next())}))},l=function(e,t){var n,r,i,s,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!(i=o.trys,(i=i.length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(e){s=[6,e],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}},c=function(){function e(e){this.ds=e,this.selectedRegionCategory=null,this.response="",console.log("here in Island-Form Constructor")}return e.prototype.addIsland=function(){return a(this,void 0,void 0,(function(){var e;return l(this,(function(t){switch(t.label){case 0:return this.response="",[4,this.ds.addIsland(this.selectedRegionCategory,this.name,this.description,this.latitude,this.longitude)];case 1:return e=t.sent(),this.response=e,[2]}}))}))},s([r.c,o("design:type",Array)],e.prototype,"islands",void 0),s([r.c,o("design:type",Array)],e.prototype,"regionCategories",void 0),e=s([Object(r.d)(i.a),o("design:paramtypes",[i.a])],e)}()},"resources/elements/island-form.html":function(e,t){e.exports='<template>\r\n  <h1 class="ui header">Add an Island</h1>\r\n  <form submit.trigger="addIsland()" class="ui primary segment form">\r\n    <div class="one field">\r\n      <label>Region/RegionCategory <i class="ie flag"></i> </label>\r\n\x3c!--      https://aurelia.io/docs/binding/selects#select-number--\x3e\r\n      <div class="field">\r\n        <select value.bind="selectedRegionCategory">\r\n          <option model.bind="null">Choose a Region......</option>\r\n          <option repeat.for="region of regionCategories" model.bind="region" >${region.region}</option>\r\n        </select>\r\n      </div>\r\n      <div class="field">\r\n        <label>Island Name</label>\r\n        <input value.bind="name" required>\r\n      </div>\r\n    </div>\r\n    <div class="field">\r\n      <label>Description</label>\r\n      <input value.bind="description" required>\r\n    </div>\r\n    <div class="two fields">\r\n      <div class="field">\r\n        <label>Latitude</label>\r\n        <input value.bind="latitude" type="number"  step="any" required>\r\n      </div>\r\n      <div class="field">\r\n        <label>Longitude</label>\r\n        <input value.bind="longitude" type="number"  step="any" required>\r\n      </div>\r\n    </div>\r\n    <button class="ui blue submit button">Add Island</button>\r\n  </form>\r\n  <h2><b>${response}</b></h2>\r\n</template>\r\n'},"resources/elements/island-total":function(e,t,n){"use strict";n.r(t),n.d(t,"IslandTotal",(function(){return c}));var r=n("aurelia-framework"),i=n("75CZ"),s=n("aurelia-event-aggregator"),o=n("54d1"),a=function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},l=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},c=function(){function e(e,t){var n=this;this.ds=e,this.ea=t,this.islandTotal=0,this.ea.subscribe(o.a,(function(e){n.islandTotal=e.islandTotal}))}return a([r.c,l("design:type",Object)],e.prototype,"islandTotal",void 0),a([r.c,l("design:type",Object)],e.prototype,"userDetails",void 0),e=a([Object(r.d)(i.a,s.a),l("design:paramtypes",[i.a,s.a])],e)}()},"resources/elements/island-total.html":function(e,t){e.exports='<template>\r\n  <div class="ui center aligned two column grid">\r\n    <div class="two column row">\r\n      <div class="column">\r\n        <i class ="huge black user icon"></i>\r\n      </div>\r\n      <div class="column">\r\n        <i class ="huge map marked alternate icon"></i>\r\n      </div>\r\n      <div class="column">\r\n        <h2>${userDetails.firstName} ${userDetails.lastName}</h2>\r\n      </div>\r\n      <div class="column">\r\n        <h2>Created Islands: ${islandTotal} </h2>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n'},"resources/elements/nav-bar.html":function(e,t){e.exports='<template bindable="router">\r\n  <nav class="ui inverted menu">\r\n    <div class="right menu">\r\n      <div repeat.for="row of router.navigation">\r\n        <a class="${row.isActive ? \'active\' : \'\'} item"  href.bind="row.href">${row.title}</a>\r\n      </div>\r\n    </div>\r\n  </nav>\r\n</template>\r\n'},"resources/elements/update-island-form":function(e,t,n){"use strict";n.r(t),n.d(t,"UpdateIslandForm",(function(){return c}));var r=n("aurelia-framework"),i=n("75CZ"),s=function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},o=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},a=function(e,t,n,r){return new(n||(n=Promise))((function(i,s){function o(e){try{l(r.next(e))}catch(e){s(e)}}function a(e){try{l(r.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}l((r=r.apply(e,t||[])).next())}))},l=function(e,t){var n,r,i,s,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!(i=o.trys,(i=i.length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(e){s=[6,e],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}},c=function(){function e(e){this.ds=e,this.response="",this.selectedRegionCategory=null,console.log("here is island ID UPDATE-ISLAND-FORM CONSTRUCTOR "+this.currentIslandDetails)}return e.prototype.editIsland=function(){return a(this,void 0,void 0,(function(){var e,t;return l(this,(function(n){switch(n.label){case 0:this.response="",n.label=1;case 1:return n.trys.push([1,3,,4]),void 0===this.description&&(this.description=this.currentIslandDetails.description),[4,this.ds.editIsland(this.currentIslandDetails._id,this.selectedRegionCategory,this.name,this.description,this.latitude,this.longitude)];case 2:return e=n.sent(),t=this.findIslandIndex(this.currentIslandDetails),this.ds.updateFilterIslandAfterEdit(t,e),this.response="Island Updated successfully",[3,4];case 3:return n.sent(),this.response="Island Updated FAILED",[3,4];case 4:return[2]}}))}))},e.prototype.findIslandIndex=function(e){return this.ds.filterIslands.findIndex((function(t){return t._id===e._id}))},s([r.c,o("design:type",Array)],e.prototype,"islands",void 0),s([r.c,o("design:type",Array)],e.prototype,"regionCategories",void 0),s([r.c,o("design:type",Object)],e.prototype,"currentIslandDetails",void 0),e=s([Object(r.d)(i.a),o("design:paramtypes",[i.a])],e)}()},"resources/elements/update-island-form.html":function(e,t){e.exports='<template>\r\n  <h1 class="ui header">Update Island Details</h1>\r\n  <form submit.trigger="editIsland()" class="ui primary segment form">\r\n    <div class="one field">\r\n      <label>Region/Category</label>\r\n      \x3c!--      https://aurelia.io/docs/binding/selects#select-number--\x3e\r\n      <div class="field">\r\n        <select value.bind="selectedRegionCategory">\r\n          <option value="${currentIslandDetails.region.region}">${currentIslandDetails.region.region}</option>\r\n          <option repeat.for="region of regionCategories" model.bind="region.region" >${region.region}</option>\r\n        </select>\r\n      </div>\r\n      <div class="field">\r\n        <label>Island Name</label>\r\n        <input value.bind="name" value="${currentIslandDetails.name}" required>\r\n      </div>\r\n    </div>\r\n    <div class="field">\r\n      <label>Description</label>\r\n      <textarea rows="10" value.bind="description" value="${currentIslandDetails.description}" ></textarea>\r\n    </div>\r\n    <div class="two fields">\r\n      <div class="field">\r\n        <label>Latitude</label>\r\n        <input value.bind="latitude" value="${currentIslandDetails.latitude}" type="number"  step="any" required>\r\n      </div>\r\n      <div class="field">\r\n        <label>Longitude</label>\r\n        <input value.bind="longitude" value="${currentIslandDetails.longitude}" type="number"  step="any" required>\r\n      </div>\r\n    </div>\r\n    <h2><b>${response}</b></h2>\r\n    <button class="ui green submit button">Save All Changes</button>\r\n  </form>\r\n  <a href="islands">\r\n    <button class="ui blue submit button"> Return to Dashboard </button>\r\n  </a>\r\n</template>\r\n'},"resources/elements/upload":function(e,t,n){"use strict";n.r(t),n.d(t,"Upload",(function(){return c}));var r=n("aurelia-framework"),i=n("xzZF"),s=function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},o=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},a=function(e,t,n,r){return new(n||(n=Promise))((function(i,s){function o(e){try{l(r.next(e))}catch(e){s(e)}}function a(e){try{l(r.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}l((r=r.apply(e,t||[])).next())}))},l=function(e,t){var n,r,i,s,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!(i=o.trys,(i=i.length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(e){s=[6,e],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}},c=function(){function e(e){this.imageStore=e,this.selectedFiles=[]}return e.prototype.uploadImage=function(){return a(this,void 0,void 0,(function(){var e;return l(this,(function(t){switch(t.label){case 0:return[4,this.imageStore.uploadImage(this.selectedFiles[0],this.currentIslandDetails)];case 1:return e=t.sent(),this.currentIslandDetails=e,[2]}}))}))},s([r.c,o("design:type",Object)],e.prototype,"currentIslandDetails",void 0),e=s([r.b,o("design:paramtypes",[i.a])],e)}()},"resources/elements/upload.html":function(e,t){e.exports='<template>\r\n  <h2 class="ui header">Upload Island Image</h2>\r\n  <form class="ui segment form" submit.delegate="uploadImage()">\r\n    <div class="field">\r\n      <input type="file" files.bind="selectedFiles" accept="image/png, image/jpeg" required>\r\n    </div>\r\n    <button class="ui blue submit button" value="Upload" if.bind="selectedFiles.length > 0">Upload Image</button>\r\n  </form>\r\n</template>\r\n'},"resources/elements/user-islands":function(e,t,n){"use strict";n.r(t),n.d(t,"UserIslands",(function(){return c}));var r=n("aurelia-framework"),i=n("75CZ"),s=function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},o=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},a=function(e,t,n,r){return new(n||(n=Promise))((function(i,s){function o(e){try{l(r.next(e))}catch(e){s(e)}}function a(e){try{l(r.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}l((r=r.apply(e,t||[])).next())}))},l=function(e,t){var n,r,i,s,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!(i=o.trys,(i=i.length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(e){s=[6,e],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}},c=function(){function e(e){this.ds=e}return e.prototype.activate=function(e){return a(this,void 0,void 0,(function(){var t,n;return l(this,(function(r){switch(r.label){case 0:return console.log(e),[4,this.ds.retrieveUserPOIDetails(e.id)];case 1:return r.sent(),this.islands=this.ds.islands,[4,this.ds.findUser(e.id)];case 2:return t=r.sent(),n=this,[4,t.content];case 3:return n.currentUser=r.sent(),console.log("here is current user in user-islands "+this.currentUser),[2]}}))}))},e.prototype.deleteIsland=function(e){return a(this,void 0,void 0,(function(){var t,n;return l(this,(function(r){switch(r.label){case 0:return t=this.findFilterIslandIndex(e),n=this.findIslandsIndex(e),[4,this.ds.deleteIsland(e._id)];case 1:return r.sent().success&&(this.ds.removeIndexIsland(n),this.ds.removeIslandFilterIslands(t)),[2]}}))}))},e.prototype.findFilterIslandIndex=function(e){return this.ds.filterIslands.findIndex((function(t){return t._id===e._id}))},e.prototype.findIslandsIndex=function(e){return this.ds.islands.findIndex((function(t){return t._id===e._id}))},s([r.c,o("design:type",Array)],e.prototype,"islands",void 0),e=s([r.b,o("design:paramtypes",[i.a])],e)}()},"resources/elements/user-islands.html":function(e,t){e.exports='<template>\r\n\r\n  <div>\r\n    <h2> ${currentUser.firstName} ${currentUser.lastName}</h2>\r\n    <article class="four wide column">\r\n      <table class="ui striped celled table segment">\r\n        <thead>\r\n        <tr>\r\n          <th class="one wide">Regions/Category</th>\r\n          <th class="one wide">Island Name</th>\r\n          <th class="four wide">Description</th>\r\n          <th class="one wide"> Delete Island </th>\r\n        </tr>\r\n        </thead>\r\n        <tbody>\r\n        <tr repeat.for="island of islands">\r\n          <td> ${island.region.region} </td>\r\n          <td> ${island.name} </td>\r\n          <td> ${island.description} </td>\r\n          <td>\r\n            <button click.delegate= "deleteIsland(island)" class="ui icon button" > <i class="icon trash"></i></button></td>\r\n          </td>\r\n        </tr>\r\n        </tbody>\r\n      </table>\r\n    </article>\r\n  </div>\r\n\r\n</template>\r\n'},"resources/elements/user-list":function(e,t,n){"use strict";n.r(t),n.d(t,"UserList",(function(){return c}));var r=n("aurelia-framework"),i=n("75CZ"),s=function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},o=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},a=function(e,t,n,r){return new(n||(n=Promise))((function(i,s){function o(e){try{l(r.next(e))}catch(e){s(e)}}function a(e){try{l(r.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}l((r=r.apply(e,t||[])).next())}))},l=function(e,t){var n,r,i,s,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!(i=o.trys,(i=i.length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(e){s=[6,e],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}},c=function(){function e(e){this.ds=e}return e.prototype.deleteUser=function(e){return a(this,void 0,void 0,(function(){var t;return l(this,(function(n){switch(n.label){case 0:return[4,this.ds.deleteUser(e)];case 1:return t=n.sent(),this.users=t.users,[2]}}))}))},s([r.c,o("design:type",Object)],e.prototype,"users",void 0),e=s([r.b,o("design:paramtypes",[i.a])],e)}()},"resources/elements/user-list.html":function(e,t){e.exports='<template>\r\n\r\n  <section class="ui segment" repeat.for="user of users">\r\n    <div class="ui center aligned four column grid" >\r\n      <div class="two column row">\r\n        <div class="column">\r\n          <a href="user-islands/${user._id}">\r\n            <h3 class="ui image header">\r\n              <i class="large map marked alternate icon"></i>\r\n              <div class="content" >\r\n                <span style="color:#4183c4">${user.firstName} ${user.lastName}</span>\r\n                <div class="sub header"><strong>${user.islandCount} Island(s)</strong></div>\r\n              </div>\r\n            </h3>\r\n          </a>\r\n        </div>\r\n        <button click.delegate= "deleteUser(user._id)" class="ui icon button" > <i class="icon trash"></i></button>\r\n      </div>\r\n    </div>\r\n  </section>\r\n\r\n</template>\r\n'},"resources/index":function(e,t,n){"use strict";function r(e){}n.r(t),n.d(t,"configure",(function(){return r}))},start:function(e,t,n){"use strict";n.r(t),n.d(t,"Start",(function(){return a}));var r=n("aurelia-framework"),i=(n("70NS"),n("75CZ")),s=function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},o=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},a=function(){function e(e){this.ds=e}return e.prototype.configureRouter=function(e,t){e.map([{route:["","login"],name:"Login",moduleId:"views/login",nav:!0,title:"Login"},{route:"signup",name:"signup",moduleId:"views/signup",nav:!0,title:"Signup"}]),this.router=t},e.prototype.attached=function(){this.ds.checkIsAuthenticated()},e=s([Object(r.d)(i.a),o("design:paramtypes",[i.a])],e)}()},"start.html":function(e,t,n){e.exports='<template>\r\n  <require from="resources/elements/nav-bar.html"></require>\r\n\r\n  <div class="ui container">\r\n    <section class="ui raised segment">\r\n      <h3 class="ui header"> POI - Islands </h3>\r\n    </section>\r\n    <nav-bar router.bind="router"></nav-bar>\r\n    <div class="ui basic segment">\r\n      <router-view></router-view>\r\n    </div>\r\n  </div>\r\n</template>\r\n'},"views/islands":function(e,t,n){"use strict";n.r(t),n.d(t,"Islands",(function(){return a}));var r=n("aurelia-framework"),i=n("75CZ"),s=function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},o=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},a=function(){function e(e){this.ds=e,this.islandTotal=0,this.islands=e.islands,this.regionCategories=e.regionCategories,this.islandTotal=e.islandTotal,this.filterIslands=e.filterIslands,this.userDetails=e.userDetails,console.log("here in Island Constructor")}return e=s([Object(r.d)(i.a),o("design:paramtypes",[i.a])],e)}()},"views/islands.html":function(e,t,n){e.exports='<template>\r\n  <require from="../resources/elements/island-form"></require>\r\n  <require from="../resources/elements/island-total"></require>\r\n  <require from="../resources/elements/category-form"></require>\r\n  <require from="../resources/elements/category-list"></require>\r\n\r\n  <div class="ui stacked segment">\r\n    <div>\r\n      <island-total islandTotal.bind="islandTotal" user-details.bind="userDetails"></island-total>\r\n    </div>\r\n  </div>\r\n\r\n  <div class="ui stacked segment">\r\n    <div>\r\n        <island-form islands.bind="islands" region-categories.bind="regionCategories" user-details.bind="userDetails" ></island-form>\r\n    </div>\r\n  </div>\r\n\r\n  <div class="ui stacked segment">\r\n    <h1>View Islands by Region</h1>\r\n    <div class="ui stackable two column grid">\r\n      <div class="three wide column">\r\n        <category-form region-categories.bind="regionCategories" ></category-form>\r\n      </div>\r\n\r\n      <div class="twelve wide column">\r\n        <category-list filter-islands.bind="filterIslands"   ></category-list>\r\n      </div>\r\n\r\n    </div>\r\n  </div>\r\n</template>\r\n'},"views/login":function(e,t,n){"use strict";n.r(t),n.d(t,"Login",(function(){return c}));var r=n("aurelia-framework"),i=n("75CZ"),s=function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},o=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},a=function(e,t,n,r){return new(n||(n=Promise))((function(i,s){function o(e){try{l(r.next(e))}catch(e){s(e)}}function a(e){try{l(r.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}l((r=r.apply(e,t||[])).next())}))},l=function(e,t){var n,r,i,s,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!(i=o.trys,(i=i.length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(e){s=[6,e],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}},c=function(){function e(e){this.ds=e,this.email="sheerin@gmail.com",this.password="1234",this.prompt=""}return e.prototype.login=function(e){return a(this,void 0,void 0,(function(){return l(this,(function(e){switch(e.label){case 0:return[4,this.ds.login(this.email,this.password)];case 1:return e.sent()||(this.prompt="Oops! Try again..."),[2]}}))}))},e=s([Object(r.d)(i.a),o("design:paramtypes",[i.a])],e)}()},"views/login.html":function(e,t){e.exports='<template>\r\n  <div class="ui stackable two column grid">\r\n    <div class="column">\r\n      <form submit.delegate="login($event)" class="ui stacked segment form">\r\n        <h3 class="ui header">Log-in</h3>\r\n        <div class="field">\r\n          <label>Email</label> <input placeholder="Email" value.bind="email" required>\r\n        </div>\r\n        <div class="field">\r\n          <label>Password</label> <input type="password" value.bind="password" required>\r\n        </div>\r\n        <button class="ui blue submit button">Login</button>\r\n        <h3>${prompt}</h3>\r\n      </form>\r\n    </div>\r\n    <div class="column">\r\n    </div>\r\n  </div>\r\n</template>\r\n'},"views/logout":function(e,t,n){"use strict";n.r(t),n.d(t,"Logout",(function(){return a}));var r=n("aurelia-framework"),i=n("75CZ"),s=function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},o=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},a=function(){function e(e){this.ds=e}return e.prototype.attached=function(){this.ds.logout()},e=s([Object(r.d)(i.a),o("design:paramtypes",[i.a])],e)}()},"views/logout.html":function(e,t){e.exports="<template>\r\n</template>\r\n"},"views/signup":function(e,t,n){"use strict";n.r(t),n.d(t,"Signup",(function(){return l}));var r=n("aurelia-framework"),i=n("75CZ"),s=n("1aCK"),o=function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},a=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},l=function(){function e(e){this.ds=e,this.prompt=""}return e.prototype.signup=function(e){console.log("Trying to sign up "+this.email),this.ds.signup(this.firstName,this.lastName,this.email,this.password)||(this.prompt="Oops! Try again...")},e=o([Object(r.d)(i.a,s.a),a("design:paramtypes",[i.a])],e)}()},"views/signup.html":function(e,t){e.exports='<template>\r\n  <div class="ui stackable two column grid">\r\n    <div class="column">\r\n    </div>\r\n    <div class="column">\r\n      <form submit.delegate="signup($event)" class="ui stacked segment form">\r\n        <h3 class="ui header">Register</h3>\r\n        <div class="two fields">\r\n          <div class="field">\r\n            <label>First Name</label> <input placeholder="First Name" type="text" value.bind="firstName" required>\r\n          </div>\r\n          <div class="field">\r\n            <label>Last Name</label> <input placeholder="Last Name" type="text" value.bind="lastName" required>\r\n          </div>\r\n        </div>\r\n        <div class="field">\r\n          <label>Email</label> <input placeholder="Email" type="email" value.bind="email" required>\r\n        </div>\r\n        <div class="field">\r\n          <label>Password</label> <input type="password" value.bind="password" required>\r\n        </div>\r\n        <button class="ui blue submit button">Submit</button>\r\n      </form>\r\n      <h3>${prompt}</h3>\r\n    </div>\r\n  </div>\r\n</template>\r\n'},"views/updateisland":function(e,t,n){"use strict";n.r(t),n.d(t,"UpdateIsland",(function(){return u}));var r=n("aurelia-framework"),i=n("75CZ"),s=n("xzZF"),o=function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},a=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},l=function(e,t,n,r){return new(n||(n=Promise))((function(i,s){function o(e){try{l(r.next(e))}catch(e){s(e)}}function a(e){try{l(r.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}l((r=r.apply(e,t||[])).next())}))},c=function(e,t){var n,r,i,s,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!(i=o.trys,(i=i.length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(e){s=[6,e],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}},u=function(){function e(e,t){this.ds=e,this.is=t,this.regionCategories=this.ds.regionCategories}return e.prototype.activate=function(e){return l(this,void 0,void 0,(function(){var t;return c(this,(function(n){switch(n.label){case 0:return[4,this.ds.retrieveIslandToUpdate(e.id)];case 1:return t=n.sent(),this.currentIslandDetails=t.islandDetails,[2]}}))}))},e=o([Object(r.d)(i.a,s.a),a("design:paramtypes",[i.a,s.a])],e)}()},"views/updateisland.html":function(e,t,n){e.exports='<template>\r\n  <require from="../resources/elements/update-island-form"></require>\r\n  <require from="../resources/elements/upload"></require>\r\n  <require from="../resources/elements/card"></require>\r\n\r\n  <section class="ui raised segment">\r\n    <div class="ui grid">\r\n      <div class="ui ten wide column">\r\n        <div>\r\n          <update-island-form islands.bind="islands" region-categories.bind="regionCategories" current-island-details.bind="currentIslandDetails" ></update-island-form>\r\n        </div>\r\n      </div>\r\n      <div class="ui five wide column">\r\n        <div>\r\n          <upload current-island-details.two-way="currentIslandDetails"></upload>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </section>\r\n  <section class="ui raised segment">\r\n    <h2 class="ui header">Image Gallery</h2>\r\n    <div class="ui divider"></div>\r\n    <div class="ui grid">\r\n      <div class="ui five wide column">\r\n      </div>\r\n      <div>\r\n        <card current-island-details.bind="currentIslandDetails" ></card>\r\n      </div>\r\n    </div>\r\n  </section>\r\n\r\n</template>\r\n'},"views/users":function(e,t,n){"use strict";n.r(t),n.d(t,"Users",(function(){return a}));var r=n("aurelia-framework"),i=n("75CZ"),s=function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},o=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},a=function(){function e(e){this.ds=e,this.users=this.ds.users,this.islands=this.ds.islands}return e=s([Object(r.d)(i.a),o("design:paramtypes",[i.a])],e)}()},"views/users.html":function(e,t,n){e.exports='<template>\r\n  <require from="../resources/elements/user-list"></require>\r\n\r\n  <div class="ui stacked segment">\r\n    <div>\r\n      <user-list users.two-way="users"></user-list>\r\n    </div>\r\n  </div>\r\n</template>\r\n'},xzZF:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n("1aCK"),i=n("aurelia-framework"),s=function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},o=function(e,t,n,r){return new(n||(n=Promise))((function(i,s){function o(e){try{l(r.next(e))}catch(e){s(e)}}function a(e){try{l(r.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}l((r=r.apply(e,t||[])).next())}))},a=function(e,t){var n,r,i,s,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!(i=o.trys,(i=i.length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(e){s=[6,e],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}},l=function(){function e(){this.cloudinaryClient=new r.a,this.backendClient=new r.a}return e.prototype.uploadImage=function(e,t){return o(this,void 0,void 0,(function(){var n,r,i;return a(this,(function(s){switch(s.label){case 0:this.cloudinaryClient.configure((function(e){e.withBaseUrl("https://api.cloudinary.com/v1_1/dsheerincloud")})),this.backendClient.configure((function(e){e.withBaseUrl("http://localhost:3000")})),(n=new FormData).append("file",e),n.append("upload_preset","ia6ew6aq"),s.label=1;case 1:return s.trys.push([1,5,,6]),[4,this.cloudinaryClient.post("/image/upload",n)];case 2:return r=s.sent(),[4,this.backendClient.post("/api/islands/addImage",{islandId:t._id,image:r.content})];case 3:return[4,s.sent().content];case 4:return[2,s.sent()];case 5:return i=s.sent(),console.log(i),[3,6];case 6:return[2]}}))}))},e.prototype.deleteImage=function(e,t){return o(this,void 0,void 0,(function(){var n;return a(this,(function(r){switch(r.label){case 0:return console.log(e+t),[4,this.backendClient.put("/api/islands/deleteImage",{imageId:e,islandId:t})];case 1:return n=r.sent(),console.log("here in delete image in IMAGE_STORE "+n),[2,n]}}))}))},e=s([i.b],e)}()}},[[0,1,3,2,5,4,7,6]]]);
//# sourceMappingURL=app~f075b844.e6e1fda5cc9a4b1a2bf6.bundle.map